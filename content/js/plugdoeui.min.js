function Dictionary(){this.dic={},this.deleteKey=function(key){this.dic[key]=void 0,this.dic=JSON.parse(JSON.stringify(this.dic))},this.setKey=function(key){Object.defineProperty(this.dic,key,{enumerable:!0,writable:!0})},this.setKeyWithValue=function(key,val){Object.defineProperty(this.dic,key,{enumerable:!0,writable:!0,value:val})},this.setValue=function(key,value){this.dic[key]=value},this.get=function(){return this.dic},this.keyExists=function(key){return this.dic.hasOwnProperty(key)},this.keys=function(){return Object.keys(this.dic)}}function MainData(){this.title="plugdoEUI",this.navigation=[],this.menu=[],this.windows=new Dictionary,this.activeMenuLeft=new Dictionary,this.activeMenuRight=new Dictionary,this.activeWindow=new Dictionary,this.allLeftMenus=new Dictionary,this.allRightMenus=new Dictionary,this.allWindows=new Dictionary,this.executions=new Dictionary,this.getKey=function(str){return"key"+str.replace(/ /g,"").replace(/[^\w\s]/gi,"")},this.getHash=function(str){return str.toLowerCase().replace(/ /g,"-")},this.replace=function(str,oldStr,newStr){return str.replace(/oldStr/g,newStr)},this.execute=function(key){var model=this.executions.get()[key];model.execute(model.data)},this.getWindowByKey=function(findKey){for(var keys=this.windows.keys(),i=0;i<keys.length;i++){var key=keys[i],windowObj=plugdo.global.windows.get()[key];if(windowObj.key==findKey)return windowObj.length=1,windowObj}return{length:0}}}function ObjectString(object){return JSON.stringify(object)}!function(){"use strict";function plugdo(){this.loadScript=function(url,callback,name){var script=self.document.createElement("script");script.setAttribute("src",url),script.onload=script.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(void 0!==name&&(window.plugdoDependencies[name].loaded=!0),script.onload=script.onreadystatechange=null,void 0!==callback&&callback())},eui("body").selector().element.appendChild(script)},this.loadStyle=function(url,callback,name){var style=self.document.createElement("link");style.setAttribute("href",url),style.setAttribute("rel","stylesheet"),style.onload=style.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(void 0!==name&&(window.plugdoDependencies[name].loaded=!0),style.onload=script.onreadystatechange=null,callback())},plugdo("head").selector().element.appendChild(style)},this.loadDependency=function(name,callback){if(window[EUI_KEY.DEPENDENCY].hasOwnProperty(name))if(name==EUI_KEY.JQUERY)"undefined"==typeof jQuery?this.loadScript(window[EUI_KEY.DEPENDENCY][name].url,function(){"function"==typeof callback&&callback()},name):"function"==typeof callback&&callback();else{var dependency=window[EUI_KEY.DEPENDENCY][name];"script"==dependency.type&&this.loadScript(dependency.url,function(){"function"==typeof callback&&callback()},name),"style"==dependency.type&&this.loadStyle(dependency.url,function(){"function"==typeof callback&&callback()},name)}}}var plugdo=new plugdo;window.plugdo=plugdo}(),plugdo.ready=function(callback){var readyStateCheckInterval=setInterval(function(){this.document.readyState===window[EUI_KEY.READY_STATE]&&(clearInterval(readyStateCheckInterval),callback())},10)},plugdo.loadCompleted=function(callback){var readyStateCheckInterval=setInterval(function(){"complete"===self.arg.readyState&&(clearInterval(readyStateCheckInterval),callback())},10)},plugdo.window=function(options,initialize,finalize){if(void 0===options)throw new Error("The options are undefined");var name=options.name.trim(),path=options.path.trim(),data={length:0};void 0!==options.data&&((data=options.data).length=1);var isLocal=!0;void 0!==options.local&&(isLocal=options.local);var execution=function(){};void 0!==initialize&&"function"==typeof initialize&&(execution=initialize);var opened=!1;if(void 0!==options.open&&(opened=options.open),plugdo.global.windows.keyExists(name))throw new Error("The window "+name+" exists");var windowObj={name:name,path:path,local:isLocal,execute:execution,closed:finalize,open:opened,key:plugdo.global.getKey(name),hash:plugdo.global.getHash(name),data:data};return plugdo.global.windows.setKeyWithValue(name,windowObj),windowObj},plugdo.createWindow=function(options,execute,finalize){plugdo.template.createWindow(options,execute,finalize)},plugdo.binder=function(obj){if(void 0!==obj&&"object"==typeof obj)return eui.binder.getObject(obj);eui.binder.init()},function(){"use strict";var eui=function(arg){if(!(this instanceof eui))return new eui(arg);this.document=window.document,this.arg=arg};eui.fn=eui.prototype={init:function(){}};var _eui=window.eui,_$eui=window.$eui;eui.noConflict=function(deep){return window.$eui===eui&&(window.$eui=_$eui),deep&&window.eui===eui&&(window.eui=_eui),eui},window.$eui=window.eui=eui,plugdo.query=function(searchStr){return $eui(searchStr).selector().element}}(),eui.fn.style=function(style,value){var domElement=this.selector();1==domElement.found&&(domElement.element.style[style]=value)},eui.fn.selector=function(){var element=this.document.querySelector(this.arg),elementObj={found:!1,element:{}};return void 0!==element&&null!=element&&(elementObj.found=!0,elementObj.element=element),elementObj},plugdo.htmlIDE='<div id="container"><div id="navigation"><div id="navbar"><div id="collapse"><i class="fas fa-angle-up"></i></div><div id="logo">plugdoEUI</div><div id="menu"><ul><li class="sub-menu"><a>File</a><div class="dropdown-content"><a href="#">G Suit</a><a href="#">Gmail</a><a href="#">Analytics</a></div></li><li><a>Edit</a></li><li class="sub-menu"><a>Find</a><div class="dropdown-content"><a href="#">G Suit</a><a href="#">Gmail</a><a href="#">Analytics</a></div></li><li><a>View</a></li><li><a>Goto</a></li><li><a>Run</a></li><li><a>Tools</a></li><li><a>Window</a></li><li><a class="last-menu">Support</a></li></ul></div></div><div id="setting"><a><i class="fas fa-cogs"></i></a></div></div><div id="content" class="default-template"><div><div id="containerleft" class="panel panel-menu panel-menu-default"><div class="panel-menu-item panel-menu-item-selected"><div><a>Workspaces</a></div></div><div class="panel-menu-item"><div><a>Navigate</a></div></div><div class="panel-menu-item"><div><a>Commands</a></div></div></div><div id="containerleftmenu" class="panel panel-menu-content"><div id="containerleftmenucontent" class="menu-content-item"><ul><li><a class="menu-group">Global</a></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Google</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Godaddy</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Amazon E2</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>MS Azure</a></div></li><li><a class="menu-group">Management</a></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Customers</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Products</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Sales</a></div></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Reports</a></div></li></ul></div></div><div class="panel handle-left"><div class="handle-inner-left"></div> </div><div id="containercenter" class="panel"><div class="panel-window"><div class="panel-window-tab"><div id="window-tab" class="window-tab"></div></div><div class="panel-window-content"><div style="margin: 15px;" id="frame-window-container"></div></div></div></div><div class="panel handle-right"><div class="handle-inner-right"></div> </div><div id="containerrightmenu" class="panel panel-menu-content"><div id="containerrightmenucontent" class="menu-content-item menu-right"><div style="display: true"><ul><li><a class="menu-group">Member Activity</a></li><li class="menu-with-icon"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a>Alex Matt</a></div></li><li><a class="menu-group">Notifications</a></li><li><a class="menu-group">System Alerts</a></li></ul></div></div></div><div id="containerright" class="panel panel-menu panel-menu-default"><div class="panel-menu-item panel-menu-item-selected"><div class="reverse"><a>Notifications</a></div></div><div class="panel-menu-item"><div class="reverse"><a>Activity</a></div></div><div class="panel-menu-item"><div class="reverse"><a>Help</a></div></div></div></div></div></div>',plugdo.htmlB24='<div class="container-fluid"> <div class="row header"> <div class="col-lg-6 col-md-11 col-sm-11 col-xs-11 pm-0 navbar navbar-expand-lg navbar-dark"> <div class="row header-navbar"> <plugdo-logo id="b24t-logo" class="col-lg-5 col-md-10 header-logo" style="display: none;"> <data>{"text": "Logo", "slogan": "24/7", "link": "#"}</data> <template> <a href="#" class="header-icon"><i class="fas fa-bars text-light"></i></a> <a id="b24t-logo-container" class="navbar-brand" href="[json:link]"> <span class="text-logo">[json:text]</span> <span class="navbar-slogan">[json:slogan]</span> </a> </template> </plugdo-logo> <div class="col-lg-7 header-search d-none d-xl-flex"> <plugdo-search id="b24t-search" class="input-group" style="display: none;"> <data>{"placeholder": "Search for packages, forwarnings and more", "text": "Search"}</data> <template> <input type="text" class="form-control form-control-sm" placeholder="[json:placeholder]" aria-describedby="button-addon2"> <div class="input-group-append"> <button id="b24t-search-btn" class="btn btn-sm btn-outline-info" type="button">[json:text]</button> </div></template> </plugdo-search> </div></div></div><div class="col-lg-6 pm-0 d-none d-xl-flex"> <div class="row header-content navbar-light"> <div class="col-lg-4"></div><div class="col-lg-3 header-time"> <plugdo-time type="span" id="b24t-time" style="display: none;"> <data>{"addSeconds": false, "format": 12, "time": "", "zone": ""}</data> <template> [json:time] <span class="b24t-time-zone">[json:zone]</span> </template> <style>.b24t-time-zone{font-size: 14px;}</style> <execute> new b24tTimeHandler() </execute> </plugdo-time> </div><plugdo-user id="b24t-user" class="col-lg-4 header-user" style="display: none;"> <data>{"active": true, "link": "#login", "logoutText": "Login", "token": "1234567890", "name": "Full Name", "menu": [{"name": "Profile", "link": "#", "total": "", "type": "menu-item"},{"name": "Tasks", "link": "#", "total": "5", "type": "menu-item"},{"name": "", "link": "", "total": "", "type": "menu-divisor"},{"name": "Logout", "link": "#", "total": "", "type": "menu-item"}]}</data> <template> <if value="[json:active]" equal="false"> <nav class="navbar navbar-expand-lg navbar-light"> <ul class="navbar-nav"> <li class="nav-item btn-group"> <a class="nav-link" href="[json:link]"> <i class="fas fa-user-circle"></i> [json:logoutText] </a> </li></ul> </nav> </if> <if value="[json:active]" equal="true"> <nav class="navbar navbar-expand-lg navbar-light"> <ul class="navbar-nav"> <li class="nav-item btn-group"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fas fa-user-circle"></i> [json:name] </a> <template-menu class="dropdown-menu" model="menu"></template-menu> </li></ul> </nav> </if> </template> <template-menu> <if value="[json:type]" equal="menu-item"> <a class="dropdown-item" href="[json:link]">[json:name] <span class="badge badge-dark">[json:total]</span></a> </if> <if value="[json:type]" equal="menu-divisor"> <div class="dropdown-divider"></div></if> </template-menu> </plugdo-user> <plugdo-help id="b24t-help" class="col-lg-1 header-icon-help pm-0" style="display: none;"> <data>{"name": "home/help", "page": "/pages/help.html", "icon": "fa-question-circle"}</data> <template> <a href="#[json:name]"><i class="fas [json:icon] text-help"></i></a> </template> <execute> new b24tHelpHandler() </execute> </plugdo-help> </div></div></div><div class="row content"> <div class="col-lg-2 b24t-menu"> <plugdo-menu id="b24t-menu" style="display: none;"> <data>{"class": "menu", "items": [{"name": "Administration", "menu-type": "menu-group", "link": ""},{"name": "Address", "menu-type": "menu-item", "link": "#", "total": ""},{"name": "Phone", "menu-type": "menu-item", "link": "#", "total": ""},{"name": "Email", "menu-type": "menu-item", "link": "#", "total": ""},{"name": "Payment Method", "menu-type": "menu-item", "link": "#", "total": ""},{"name": "Plan", "menu-type": "menu-item", "link": "#", "total": ""},{"name": "", "menu-type": "menu-divisor", "link": "", "total": ""},{"name": "Notifications", "menu-type": "menu-group", "link": ""},{"name": "Messages", "menu-type": "menu-item", "link": "#", "total": "3"},{"name": "Alerts", "menu-type": "menu-item", "link": "#", "total": "8"},{"name": "", "menu-type": "menu-divisor", "link": ""}]}</data> <template> <template-menu type="ul" class="[json:class]" model="items"></template-menu> </template> <template-menu> <if value="[json:menu-type]" equal="menu-group"> <li class="menu-group"><span>[json:name]</span></li></if> <if value="[json:menu-type]" equal="menu-item"> <li class="menu-item"> <a href="[json:link]">[json:name]</a> <span class="badge badge-dark">[json:total]</span> </li></if> <if value="[json:menu-type]" equal="menu-divisor"> <li class="menu-divisor"><hr/><div></div></li></if> </template-menu> </plugdo-menu> </div><div class="col-lg-10 pm-0 b24t-content"> <plugdo-navigation id="b24t-nav" type="div" class="row" style="display: none;"> <data>{"class": "navbar-nav", "items": [{"name": "Dashboard", "link": "#"},{"name": "Account", "link": "#"},{"name": "Payment", "link": "#"},{"name": "Package", "link": "#"},{"name": "Forewarning", "link": "#"},{"name": "Contact Us", "link": "#"}]}</data> <template> <nav class="col navbar navbar-expand-lg bg-nav"> <template-nav type="ul" class="[json:class]" model="items"></template-nav> </nav> </template> <template-nav> <li class="nav-item"> <a class="nav-link" href="[json:link]">[json:name]</a> </li></template-nav> </plugdo-navigation> <div class="row"> <div class="col-12 pm-0" id="container"></div></div></div></div></div><plugdo-modal style="display: none;"> <data>{"close": "Window", "bg": "bg-info"}</data> <template> <div id="plugdo-modal-component" class="container-fluid" style="display: none"> <div class="row justify-content-md-center" style="height: 100%;"> <div class="col-1"></div><div class="col-1" style="padding-right: 0 !important;"> <div class="row"> <div id="plugdo-modal-button-close" class="col [json:bg]" style="cursor: pointer; border-top-left-radius: 20px; border-bottom-left-radius: 20px; opacity: 0.5; top: 15px; width: 100%; height: 100%; margin: 0 !important;"> <button type="button" class="btn btn-link" style="position: relative; top: -1px !important; left: -10px !important; color: #FFF; font-weight: 600; font-size: 20px; text-decoration: none;">X <span id="plugdo-modal-close-text" style="font-weight: 300 !important">[json:close]</span></button> </div></div></div><div class="col-10" style="background-color: #FFF;"> <div class="container-fluid"> <div class="row"> <div id="plugdo-modal-content" class="col-12"></div></div></div></div></div></div></template> <execute> new b24tModelHandler() </execute> </plugdo-modal> <plugdo-modal-help style="display: none;"> <data>{"close": "Help", "bg": "bg-danger"}</data> <template> <div id="plugdo-modal-help" class="container-fluid" style="display: none"> <div class="row justify-content-md-center" style="height: 100%;"> <div class="col-7"></div><div class="col-1" style="padding-right: 0 !important;"> <div class="row"> <div id="plugdo-modal-help-button-close" class="col [json:bg]" style="cursor: pointer; border-top-left-radius: 20px; border-bottom-left-radius: 20px; opacity: 0.5; top: 15px; width: 100%; height: 100%; margin: 0 !important;"> <button type="button" class="btn btn-link" style="position: relative; top: -1px !important; left: -10px !important; color: #FFF; font-weight: 600; font-size: 20px; text-decoration: none;">X <span id="plugdo-modal-close-text" style="font-weight: 300 !important">[json:close]</span></button> </div></div></div><div class="col-4" style="background-color: #FFF;"> <div class="container-fluid"> <div class="row"> <div id="plugdo-modal-help-content" class="col-12"></div></div></div></div></div></div></template> <execute> new b24tModelHelpHandler() </execute> </plugdo-modal-help>',String.prototype.json=function(){return""==this?{}:JSON.parse(this)},plugdo.global=new MainData;var EUI_KEY={DEPENDENCY:"plugdoDependencies",READY_STATE:"plugdoReadyState",GLOBAL:"plugdoGlobal"};function PlugdoBinder(){var self=this;self.elements=[],this.connect=function(){document.querySelectorAll("[eui-bind]").forEach(function(item){switch(item.tagName){case"INPUT":case"TEXTAREA":case"SELECT":case"BUTTON":case"OPTION":case"LABEL":case"FIELDSET":self.elements.push({type:"form",element:item,objectName:item.getAttribute("eui-bind")});break;default:self.elements.push({type:"default",element:item,objectName:item.getAttribute("eui-bind")})}})},this.attach=function(){this.elements.forEach(function(item){self.bind(item,item.objectName)})},self.bind=function(item,str){if(void 0===str)throw new Error("The json selector string is not defined");if("string"!=typeof str)throw new Error("The json selector string is not defined");if(""==str.trim())throw new Error("The json selector string is not defined");var strData=str.split("."),parent=window,elementName="",holder=window,total=strData.length-1;if(strData.forEach(function(element,index){void 0===holder[element]&&(holder[element]=total>index?{}:"",exists=!1),parent=holder,elementName=element,holder=holder[element]}),parent[elementName]=new PlugdoBinderObject(item),"form"===item.type)switch(item.element.type){case"radio":case"checkbox":parent[elementName].checked=item.element.checked}else"default"==item.type?parent[elementName].value=item.element.innerHTML:parent[elementName].value=item.element.value},this.init=function(){this.connect(),this.attach()},this.getObject=function(model){var fixed={};return Object.getOwnPropertyNames(model).forEach(function(val,idx,array){void 0!==model[val].value&&(fixed[val]=model[val].value),void 0!==model[val].checked&&(fixed[val]=model[val].checked)}),fixed}}function PlugdoBinderObject(item){"form"!==item.type||"radio"!==item.element.type&&"checkbox"!==item.element.type?Object.defineProperty(this,"value",{enumerable:!0,get:function(){return item.element.value},set:function(data){"default"==item.type?item.element.innerHTML=data:item.element.value=data}}):Object.defineProperty(this,"checked",{enumerable:!0,get:function(){return item.element.checked},set:function(data){item.element.checked=data}})}function plugdoView(){this.state=[],this.components=new plugdoComponents,this.find=function(name){return this.components.find(name)},this.getData=function(name){var comp=this.find(name);if(comp)return comp.config.data},this.setData=function(name,data){var comp=this.find(name);comp&&(comp.config.data=data,this.refreshComponent(comp))},this.setInitialData=function(tag,name,model){for(var components=document.getElementsByTagName(tag),i=0;i<components.length;i++){for(var component=components[i],isValid=!1,a=0;a<component.attributes.length;a++){var attr=component.attributes[a];if(("name"==attr.name||"id"==attr.name)&&attr.value==name){isValid=!0;break}}if(isValid){var dataElements=component.getElementsByTagName("data"),dataElement=document.createElement("data");dataElements.length>0?(dataElement=dataElements[0]).innerText=JSON.stringify(model):(dataElement.innerText=JSON.stringify(model),component.appendChild(dataElement));break}}},this.refreshComponent=function(comp){var dataElement=comp.element.getElementsByTagName("data");dataElement.length>0&&(dataElement[0].innerText=JSON.stringify(comp.config.data));if($(comp.current).replaceWith(comp.element),plugdo.view.state.length>0){for(var toRemove=-1,i=0;i<plugdo.view.state.length;i++){var component=plugdo.view.state[i];if(comp.name==component.name){toRemove=i;break}}plugdo.view.state.splice(toRemove,1)}this.components.handler.loadComponents(this.components.finder)},this.renderComponent=function(comp){this.components.handler.renderComponent(comp)},this.setFinder=function(finder){this.components.finder=finder},this.load=function(){this.components.load()}}function plugdoComponents(){this.finder="plugdo",this.load=function(){this.handler.loadComponents(this.finder),this.handler.loadRemote(this.finder)},this.find=function(name){if(plugdo.view.state.length>0)for(var i=0;i<plugdo.view.state.length;i++){var component=plugdo.view.state[i];if(name==component.name)return component}},this.handler=new plugdoComponentHandlers}function plugdoComponentHandlers(){this.loadRemote=function(finder){var components=this.findElements(document,finder+"-(.*)"),remoteComps=[];if(components.length>0)for(var i=0;i<components.length;i++){for(var comp=components[i],remoteModel={component:comp,url:"",name:""},a=0;a<comp.element.attributes.length;a++){var attr=comp.element.attributes[a];"src"==attr.name&&(remoteModel.url=attr.value),"name"==attr.name&&(remoteModel.name=attr.value)}""!=remoteModel.url&&remoteComps.push(remoteModel)}remoteComps.length>0&&remoteComps.forEach(function(item){plugdo.view.components.handler.sleep(10);var dataToSend="";-1!=item.url.indexOf("?")&&(dataToSend=item.url.split("?")[1]),plugdo.request.get(item.url,dataToSend,function(data){var html=data,doc=(new DOMParser).parseFromString(html,"text/html"),newElement=plugdo.view.components.handler.findElements(doc,item.component.name)[0];newElement.element.setAttribute("data-url",item.url),""!=item.name&&newElement.element.setAttribute("data-name",item.name);var dataElement,createStyle=!0;if(newElement.element.getElementsByTagName("style").length>0&&(createStyle=!1),newElement.element.getElementsByTagName("styles").length>0&&(createStyle=!1),createStyle){var newStyleDefaultNode=document.createElement("style");newElement.element.appendChild(newStyleDefaultNode)}""!=item.component.config.data&&((dataElement=newElement.element.getElementsByTagName("data")).length>0&&(dataElement[0].innerText=JSON.stringify(item.component.config.data)));""!=item.component.config.style&&((dataElement=newElement.element.getElementsByTagName("style")).length>0?dataElement[0].innerText=item.component.config.style:(dataElement=newElement.element.getElementsByTagName("styles")).length>0&&(dataElement[0].innerText=item.component.config.style));""!=item.component.config.script&&((dataElement=newElement.element.getElementsByTagName("script")).length>0?dataElement[0].innerText=item.component.config.script:(dataElement=newElement.element.getElementsByTagName("scripts")).length>0&&(dataElement[0].innerText=item.component.config.script));""!=item.component.config.execute&&((dataElement=newElement.element.getElementsByTagName("execute")).length>0&&(dataElement[0].innerText=item.component.config.execute));item.component.element.parentNode.replaceChild(newElement.element,item.component.element),plugdo.view.components.handler.loadComponents(finder)})})},this.sleep=function(ms){for(var start=(new Date).getTime(),i=0;i<1e7&&!((new Date).getTime()-start>ms);i++);},this.loadComponents=function(finder,callback){for(var components=this.findElements(document,finder+"-(.*)"),filteredComponents=[],i=0;i<components.length;i++){var comp=components[i];comp.valid=!0;for(var a=0;a<comp.element.attributes.length;a++){if("src"==comp.element.attributes[a].name){comp.valid=!1;break}}comp.valid&&filteredComponents.push(comp)}if(filteredComponents.length>0){this.removeComponents(filteredComponents);for(i=0;i<filteredComponents.length;i++){for(var compFiltered=filteredComponents[i],addIt=!0,j=0;j<plugdo.view.state.length;j++){if(plugdo.view.state[j].name==compFiltered.name){addIt=!1;break}}addIt&&plugdo.view.state.push(compFiltered)}this.resolveTemplateData(filteredComponents)}},this.variablesMatch=function(template){return template.match(/\[(.*?)\]/g)},this.replaceVariables=function(matched,node,nodes){var data=node.data,template=node.template,childElement=document.createElement("div");if(childElement.id=node.name+i,Array.isArray(data))for(var templateFixed="",i=0;i<data.length;i++){var dataIn=data[i];matched.forEach(function(im){var newIM=im.replace("[","").replace("]",""),strToReplace=plugdo.jsonReader.pipeline(newIM,dataIn);null!==strToReplace&&""==templateFixed?templateFixed+=template.replace(im,strToReplace):null!==strToReplace&&(templateFixed=templateFixed.replace(im,strToReplace))}),childElement.innerHTML+=templateFixed,templateFixed="",this.findElements(childElement,"template-(.*)").length>0&&this.resolveTemplateForeach(childElement,nodes,dataIn)}else matched.forEach(function(im){var newIM=im.replace("[","").replace("]",""),strToReplace=plugdo.jsonReader.pipeline(newIM,data);null!==strToReplace&&(template=template.replace(im,strToReplace))}),childElement.innerHTML=template;return childElement},this.renderComponent=function(comp){if(""!=comp.config.template){var matched=this.variablesMatch(comp.config.template),hasVariables=!1;if(matched&&matched.length>0&&(hasVariables=!0),hasVariables){if(comp.config.templateFixed=this.replaceVariables(matched,comp.config,comp.config.templateNodes).innerHTML,validContent=comp.config.templateFixed,-1!=validContent.indexOf("<if")){var htmlContentFixed=[],ifEl=document.createElement("div");ifEl.innerHTML=comp.config.templateFixed;for(var validEl=ifEl.getElementsByTagName("if"),v=0;v<validEl.length;v++){var objIf=validEl[v],dataFrom="1",dataTo="2";if(2==objIf.attributes.length)for(var a=0;a<2;a++)"value"==objIf.attributes[a].name&&(dataFrom=objIf.attributes[a].value),"equal"==objIf.attributes[a].name&&(dataTo=objIf.attributes[a].value);dataFrom==dataTo&&htmlContentFixed.push(objIf.innerHTML)}validContent=htmlContentFixed.join("")}comp.current.innerHTML=validContent,this.resolveTemplateForeach(comp.current,comp.config.templateNodes,comp.config.data)}else comp.config.templateFixed=comp.config.template,comp.current.innerHTML=comp.config.templateFixed}},this.resolveTemplateData=function(components){for(var i=0;i<components.length;i++){var comp=components[i];this.renderComponent(comp)}},this.resolveTemplateForeach=function(element,nodes,data){var templates=this.findElements(element,"template-(.*)");if(nodes.length>0&&templates.length>0)for(var i=0;i<templates.length;i++)for(var template=templates[i].element,j=0;j<nodes.length;j++){var node=nodes[j];if(node.name==template.localName){node.data={};var tElement=element.getElementsByTagName(node.name);if(tElement.length>0)if(tElement=tElement[0],node.current=tElement,tElement.attributes.length>0){for(var modelName="",cssClass="",elementType="div",a=0;a<tElement.attributes.length;a++){var attribute=tElement.attributes[a];"model"==attribute.name&&(modelName=attribute.value),"type"==attribute.name&&(elementType=attribute.value),"class"==attribute.name&&(cssClass=attribute.value)}if(""!=modelName){var matchedIn=this.variablesMatch(node.template),hasVariable=!1;if(matchedIn&&matchedIn.length>0&&(hasVariable=!0),hasVariable){node.data=data[modelName],-1!=modelName.indexOf(".")&&(node.data=plugdo.jsonReader.read(modelName,data)),(newInElement=document.createElement(elementType)).id=node.name,newInElement.setAttribute("class",cssClass),tElement.parentNode.replaceChild(newInElement,tElement),node.templateFixed=this.replaceVariables(matchedIn,node,nodes).innerHTML;var validContent=node.templateFixed;if(-1!=validContent.indexOf("<if")){var htmlContentFixed=[],ifEl=document.createElement("div");ifEl.innerHTML=node.templateFixed;for(var validEl=ifEl.getElementsByTagName("if"),v=0;v<validEl.length;v++){var objIf=validEl[v],dataFrom="1",dataTo="2";if(2==objIf.attributes.length)for(a=0;a<2;a++)"value"==objIf.attributes[a].name&&(dataFrom=objIf.attributes[a].value),"equal"==objIf.attributes[a].name&&(dataTo=objIf.attributes[a].value);dataFrom==dataTo&&htmlContentFixed.push(objIf.innerHTML)}validContent=htmlContentFixed.join("")}newInElement.innerHTML=validContent}else{node.templateFixed=node.template,(newInElement=document.createElement(elementType)).id=node.name,newInElement.setAttribute("class",cssClass),newInElement.innerHTML=node.templateFixed,tElement.parentNode.replaceChild(newInElement,tElement)}}}else{var newInElement;node.templateFixed=node.template,(newInElement=document.createElement("div")).id=node.name,newInElement.innerHTML=node.templateFixed,tElement.parentNode.replaceChild(newInElement,tElement)}break}}},this.removeComponents=function(components){for(var i=0;i<components.length;i++){var comp=components[i],divID=comp.name;if(!comp.noname)for(var idc=0;idc<5e3;idc++){var dynamicElement=document.getElementById(divID+"-"+idc);if(!dynamicElement){divID=divID+"-"+idc;break}}var elementType="div",cssClass="";if(comp.element.attributes.length>0)for(var a=0;a<comp.element.attributes.length;a++){var attribute=comp.element.attributes[a];"id"==attribute.name&&(divID=attribute.value),"type"==attribute.name&&(elementType=attribute.value),"class"==attribute.name&&(cssClass=attribute.value)}var divElement=document.createElement(elementType);if(divElement.id=divID,divElement.setAttribute("class",cssClass),comp.current=divElement,comp.name=divID,""!=comp.config.style){var currentHead=document.getElementsByTagName("head")[0],styleElement=document.getElementById("style-"+comp.name);styleElement||(styleElement=document.createElement("style"),styleElement.id="style-"+comp.name,styleElement.setAttribute("type","text/css"),styleElement.textContent=comp.config.style,currentHead.appendChild(styleElement))}if(comp.element.parentNode.replaceChild(divElement,comp.element),""!=comp.config.script){var currentBody=document.getElementsByTagName("body")[0],scriptElement=document.getElementById("script-"+comp.name);scriptElement||(scriptElement=document.createElement("script"),scriptElement.id="script-"+comp.name,scriptElement.setAttribute("type","text/javascript"),currentBody.appendChild(scriptElement),scriptElement.text=comp.config.script)}if(""!=comp.config.execute){var initHolder="[[INIT]]";initHolder=initHolder.replace("[[INIT]]",comp.config.execute),comp.script=eval(initHolder),"function"==typeof comp.script.init&&comp.script.init(comp)}}},this.findElements=function(rootElement,finderRegex){for(var elements=[],tmp=rootElement.getElementsByTagName("*"),regex=new RegExp("(^|\\s)"+finderRegex+"(\\s|$)"),i=0;i<tmp.length;i++)if(regex.test(tmp[i].localName)){var children=tmp[i].children,modelData="",modelTemplate="",modelScripts="",modelExecute="",modelStyles="",modelTemplateForeach=[],modelUrl="";if(children.length>0)for(var j=0;j<children.length;j++){var item=children[j];"data"==item.localName&&""!=item.innerText&&(modelData=JSON.parse(item.innerText)),"template"==item.localName&&(modelTemplate=item.innerHTML),"scripts"!=item.localName&&"script"!=item.localName||(modelScripts=item.innerText),"execute"==item.localName&&(modelExecute=item.innerText),"styles"!=item.localName&&"style"!=item.localName||(modelStyles=item.innerText),"template-"==item.localName.substring(0,9)&&modelTemplateForeach.push({name:item.localName,template:item.innerHTML})}var componentNewName=tmp[i].localName,nameChanged=!1;if(tmp[i].attributes.length>0)for(var attrParent=tmp[i],a=0;a<attrParent.attributes.length;a++){var attr=tmp[i].attributes[a];"data-url"==attr.name&&(modelUrl=attr.value),"data-name"==attr.name&&(componentNewName=attr.value,nameChanged=!0)}var model={name:componentNewName,noname:nameChanged,config:{data:modelData,url:modelUrl,template:modelTemplate,script:modelScripts,style:modelStyles,execute:modelExecute,templateNodes:modelTemplateForeach},current:{},element:tmp[i]};elements.push(model)}return elements}}function PlugdoJsonReader(){this.pipeline=function(element,message){return"string"==typeof element&&"json:"==element.substring(0,5)&&(element=element.replace("json:",""),element=this.read(element,message)),element},this.read=function(str,obj){if(void 0===str)throw new Error("The json selector string is not defined");if("string"!=typeof str)throw new Error("The json selector string is not defined");if(""==str.trim())throw new Error("The json selector string is not defined");if(void 0===obj)throw new Error("The json object is not defined");if(0==Object.keys(obj).length)throw new Error("The json object has not properties");var holder=obj;return str.split(".").forEach(element=>{if(-1!=element.indexOf("[")){var elementArray=(element=element.replace("]","")).split("[");element=elementArray[0];var index=parseInt(elementArray[1]);if(void 0===holder[element])holder=null;else{if(0==Array.isArray(holder[element]))throw new Error(`The property ${element} is not an array`);holder=holder[element][index]}}else holder=void 0===holder[element]?null:holder[element]}),holder}}function PlugdoCookies(){this.data="",this.domain="",this.get=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},this.set=function(cname,cvalue,days){void 0===days&&(days=365);var d=new Date;d.setTime(d.getTime()+24*days*60*60*1e3);var expires="expires="+d.toUTCString();if(""!=this.domain){var strDomain=";domain="+this.domain;document.cookie=cname+"="+cvalue+";"+expires+";path=/"+strDomain}else document.cookie=cname+"="+cvalue+";"+expires+";path=/"},this.delete=function(name){this.set(name,"",-1)},this.init=function(){this.data=document.cookie},this.init()}function PlugdoHttp(){this.ajax=plugdo.http,this.headers=[],this.setHeaders=function(headers){void 0!==headers&&Array.isArray(headers)&&(this.headers=headers),$.ajaxSetup({beforeSend:function(req){plugdo.request.headers.length>0&&plugdo.request.headers.forEach(function(element){req.setRequestHeader(element.name,element.value)})}})},this.postXML=function(url,data,callback,callbackError){this.ajax({method:"POST",url:url,data:data,contentType:"text/xml"}).done(function(response){callback(response)}).fail(function(http,msg,err){void 0!==callbackError&&callbackError(err)})},this.postJSON=function(url,data,callback,callbackError){this.ajax({method:"POST",url:url,data:data,contentType:"application/json"}).done(function(response){callback(response)}).fail(function(http,msg,err){void 0!==callbackError&&callbackError(err)})},this.post=function(url,data,callback,callbackError){this.ajax({method:"POST",url:url,data:data}).done(function(response){callback(response)}).fail(function(http,msg,err){void 0!==callbackError&&callbackError(err)})},this.get=function(url,data,callback,callbackError){this.ajax({method:"GET",url:url,data:data}).done(function(response){callback(response)}).fail(function(err){void 0!==callbackError&&callbackError(err)})},this.load=function(url,callback,callbackError){this.ajax({method:"GET",url:url}).done(function(response){callback(response)}).fail(function(err){void 0!==callbackError&&callbackError(err)})}}function MapperHandler(){this.template=function(template,obj,rules){for(var keys=template.match(/{{.*}}/gi),i=0;i<keys.length;i++){var keyModified=!1,keyRule=keys[i].replace("{{","").replace("}}",""),key=keyRule.toLowerCase(),objKeys=Object.keys(obj),keyIsRule=void 0!==rules&&"function"==typeof rules[keyRule];keyIsRule&&(template=template.replace(keys[i],rules[keyRule](obj)),keyModified=!0);for(var j=0;j<objKeys.length;j++)key!==objKeys[j].toLowerCase()||keyIsRule||(void 0!==obj[objKeys[j]].value?(template=template.replace(keys[i],obj[objKeys[j]].value),keyModified=!0):(template=template.replace(keys[i],obj[objKeys[j]]),keyModified=!0));keyModified||void 0!==rules&&rules.removeDefault&&(template=template.replace(keys[i],""))}return template},this.xml=function(obj){var xml="";for(var prop in obj)if(obj.hasOwnProperty(prop)&&void 0!=obj[prop]){if(xml+="<"+prop+">","object"==typeof obj[prop]){var keys=Object.keys(obj[prop]);1!=keys.length||"value"!=keys[0]&&"checked"!=keys[0]?xml+=toXml(new Object(obj[prop])):xml+=obj[prop][keys[0]]}else xml+=obj[prop];xml+="</"+prop+">"}return xml}}function PlugdoBroadcast(){this.handlers=new Dictionary,this.origin="*",this.server=new PlugdoRealtime,this.activate=function(){this.validateEvent()&&this.createEvent("message",this.dispatcher)},this.createEvent=function(eventName,eventHandler){var element=window;element.addEventListener?element.addEventListener(eventName,eventHandler,!1):element.attachEvent&&element.attachEvent("on"+eventName,eventHandler)},this.validateEvent=function(){var exists=!1,element=window;return element.addEventListener?exists=!0:element.attachEvent&&(exists=!0),exists},this.send=function(action,message,windowName,isParent){if(this.activate(),void 0===message)throw new Error("The message is not defined");if(void 0===action)throw new Error("The action is not defined");message={action:action,message:message,window:void 0===windowName?"":windowName,windowKey:plugdo.global.getKey(windowName)};void 0===isParent?window.parent.postMessage(ObjectString(message),this.origin):$eui("#window"+message.windowKey).selector().element.contentWindow.postMessage(ObjectString(message),this.origin)},this.register=function(action,callback){this.activate(),this.handlers.keyExists(action)||this.handlers.setKeyWithValue(action,callback)},this.dispatcher=function(e){var message=e.data.json();plugdo.talk.handlers.keyExists(message.action)&&plugdo.talk.handlers.get()[message.action](message)}}function PlugdoRealtime(){var self=this;self.io={opened:!1},this.id="",this.connect=function(host){self.io=io.connect(host),self.io.on("disconnect",function(){self.io.opened=!1}),self.io.on("connect",function(){this.id=self.io.id,self.io.opened=!0})},this.open=function(){"function"==typeof self.io.open&&0==self.io.opened&&self.io.open()},this.register=function(name,callback){self.io.on("client"+name,function(data){callback(data)})},this.send=function(name,data){self.io.emit("server"+name,data)}}function PlugdoQueryString(){this.baseUrl="",this.baseData="",this.url="",this.qs={length:0},this.init=function(){this.url=window.location.href;var urlData=this.url.split("?");if(urlData.length>1){this.baseUrl=urlData[0],this.baseData=urlData[1];for(var variableData=urlData[1].split("&"),totalVariables=variableData.length,i=0;i<totalVariables;i++){var splitParam=variableData[i].split("=");this.qs[splitParam[0]]=splitParam[1]}this.qs.length=totalVariables}else this.baseUrl=urlData[0]},this.init()}function PlugdoRoutingCreator(){this.load=function(config){window.routing=new PlugdoRouting(config),window.routing.initialize()},this.register=function(config){window.routing.register(config)},this.postRegister=function(){window.routing.loadHtmlContent()}}function PlugdoRouting(config){void 0!==config?void 0!==config.el?(this.config=config,this.pages={},this.currentPage="",this.currentModal="",window.onhashchange=function(){routing.initalLoad=!1;var pageName=window.location.hash.replace("#","");if(-1!=pageName.indexOf("/")){var pages=pageName.split("/");routing.currentModal=pageName+"",pageName=pages[0]}else routing.currentModal="";if(routing.currentPage!==pageName&&(routing.currentPage=pageName,routing.loadHtmlContent(),void 0!==routing.config.classSelected&&$("."+routing.config.classSelected).removeClass(routing.config.classSelected),routing.applySelectedClass()),""!==routing.currentModal){if(void 0===routing.config.elModal)return void console.log("The element ID of the modal container is not defined in the configuration");routing.loadHtmlContent(routing.currentModal,!1)}},this.loadHtmlContent=function(pageParam,isElParam){var pageName=this.currentPage,isEl=!0;void 0!==pageParam&&(pageName=pageParam),void 0!==isElParam&&(isEl=isElParam);var page=this.pages[pageName];""==pageName&&void 0!==routing.config.defaultPage&&(page=routing.config.defaultPage),void 0!==page?plugdo.request.get(page.page,"",function(data){isEl?($(routing.config.el).empty(),$(routing.config.el).append(data)):void 0!==page.modal?($(page.modal).empty(),$(page.modal).append(data)):(page.modal=routing.config.elModal,$(routing.config.elModal).empty(),$(routing.config.elModal).append(data)),void 0!==page.postLoad&&"function"==typeof page.postLoad&&page.postLoad(page)},function(err){routing.config.notFoundMessage||(routing.config.notFoundMessage="404 - Page not found!"),routing.config.notFoundMessage&&(isEl?($(routing.config.el).empty(),$(routing.config.el).append(routing.config.notFoundMessage)):void 0!==page.modal?($(page.modal).empty(),$(page.modal).append(routing.config.notFoundMessage)):($(routing.config.elModal).empty(),$(routing.config.elModal).append(routing.config.notFoundMessage))),void 0!==page.postLoad&&"function"==typeof page.postLoad&&page.postLoad(page)}):(routing.config.notFoundMessage||(routing.config.notFoundMessage="404 - Page not found!"),routing.config.notFoundMessage&&(isEl?($(routing.config.el).empty(),$(routing.config.el).append(routing.config.notFoundMessage)):void 0!==page.modal?($(page.modal).empty(),$(page.modal).append(routing.config.notFoundMessage)):($(routing.config.elModal).empty(),$(routing.config.elModal).append(routing.config.notFoundMessage))))},this.applySelectedClass=function(){var finder='a[href^="/#{{name}}"]';finder=finder.replace("{{name}}",this.currentPage);var link=$(finder);if(link.length>0)if(this.pages[this.currentPage].classInParent){var parent=link[0].parentNode;$(parent).addClass(this.config.classSelected)}else $(link[0]).addClass(this.config.classSelected)},this.register=function(page){if(this.pages[page.name]=page,this.currentPage==page.name)this.applySelectedClass(),this.loadHtmlContent();else{var hash=this.getHash();if(hash==page.name){var hashData=hash.split("/");void 0!==this.pages[hashData[0]]&&(this.currentModal=page.name,this.loadHtmlContent(page.name,!1))}}},this.getHash=function(){return window.location.hash.replace("#","")},this.modal=function(){if(""!==this.currentModal){if(void 0===this.config.elModal)return void console.log("The element ID of the modal container is not defined in the configuration");this.loadHtmlContent(this.currentModal,!1)}},this.initialize=function(){var pageName=window.location.hash.replace("#","");if(-1!=pageName.indexOf("/")){var pages=pageName.split("/");this.currentModal=pageName+"",pageName=pages[0]}this.currentPage=pageName,void 0!==this.config.defaultPage&&(""!=pageName&&this.config.defaultPage.name!=pageName||(this.register(this.config.defaultPage),this.currentPage=this.config.defaultPage.name,this.loadHtmlContent()))}):console.log("The element ID of the container is not defined in the configuration"):console.log("Plugdo Routing requires a configuration")}function PlugdoQuerySelect(query,options){var rules=[];if(void 0!==options&&void 0!==options.rules&&Array.isArray(options.rules)){rules=options.rules;for(var titles=[],i=0;i<rules.length;i++)titles.push(rules[i].title);query=query+","+titles.join(",")}return new QuerySelector(query,rules)}function QuerySelector(query,rules){this.queryAllActive="*"===query.substring(0,1),this.query=query,this.columns={},this.rules=rules;var self=this;self.fixAllColumns=function(obj){var qformat="";this.query.split(",").forEach(function(q){"*"===(q=q.trim())&&(qformat=Object.keys(obj).join(","))}),""!==qformat&&(this.query=this.query.replace("*",qformat))},this.from=function(jsonObj){if(isJson(jsonObj)||(jsonObj=JSON.parse(jsonObj)),!Array.isArray(jsonObj))throw new Error("The from object is not an Array");return self.fixAllColumns(jsonObj[0]),this.columns=QueryCreateDictionary(this.query),new QueryFromSelector(jsonObj,this.columns,this.queryAllActive,this.rules)}}function QueryFromSelector(jsonObj,columns,queryAllActive,rules){this.rules=rules,this.ruleApplied=!1,this.queryAllActive=queryAllActive,this.json=jsonObj,this.columns=columns,this.whereExecuted=!1,this.groupbyExecuted=!1,this.join=function(joinObj,compare){if(this.whereExecuted||this.groupbyExecuted)throw new Error("join must be executed after from and before where");if(void 0===compare)throw new Error("join require a second parameter for comparing");if(-1===compare.indexOf("="))throw new Error("join comparing format is 'formID=joinID'");var dataCompare=compare.split("=");if(2!=dataCompare.length)throw new Error("join comparing format is 'formID=joinID'");if(this.json=function(){for(var idMap={},idMapBackup={},counter=0,i=0;i<arguments.length;i++)for(var j=0;j<arguments[i].length;j++){var currentID=arguments[i][j][dataCompare[i]];if(idMap[currentID])i>0&&(0==idMap[currentID].join?(total=Object.keys(arguments[i][j]).length,idMap[currentID].join=total,idMapBackup[currentID].join=total):(idMap[counter]=JSON.parse(JSON.stringify(idMap[currentID])),idMap[currentID]=JSON.parse(JSON.stringify(idMapBackup[currentID])),counter++));else{var total=Object.keys(arguments[i][j]).length;idMap[currentID]={map:!1,base:total,join:0},idMapBackup[currentID]={map:!1,base:total,join:0}}for(key in arguments[i][j])idMap[currentID][key]?idMap[currentID][key+i]=arguments[i][j][key]:idMap[currentID][key]=arguments[i][j][key],i>0?idMap[currentID].map=!0:idMapBackup[currentID][key]=arguments[i][j][key]}var newArray=[];for(property in idMap)1==idMap[property].map&&newArray.push(idMap[property]);return newArray}(this.json,joinObj),this.queryAllActive){var query=self.fixAllColumns(this.json[0]);""!==query&&(this.columns=QueryCreateDictionary(query))}return this},self.fixAllColumns=function(obj){return Object.keys(obj).join(",")},this.applyRules=function(){if(void 0!==this.rules&&0==this.ruleApplied){for(var j=0;j<this.json.length;j++)for(var item=this.json[j],i=0;i<this.rules.length;i++){var rule=this.rules[i];Object.defineProperty(item,rule.title,{enumerable:!0,writable:!0,value:rule.execute(item)})}var query=self.fixAllColumns(this.json[0]);""!==query&&(this.columns=QueryCreateDictionary(query)),this.ruleApplied=!0}},this.where=function(filter,items){if(this.applyRules(),this.groupbyExecuted)throw new Error("where must be executed before groupby");var found=[],internal=!1;void 0===items?items=this.json:internal=!0;for(var i=0;i<items.length;i++){var model=items[i],data=filter(model);if(void 0!==data&&null!==data&&data){for(var keys=Object.keys(model),returnModel=new Dictionary,j=0;j<keys.length;j++){var key=keys[j];this.columns.keyExists(key)&&(returnModel.setKey(key),returnModel.setValue(key,model[key]))}found.push(returnModel.get())}}return internal?found:(this.whereExecuted=!0,this.json=found,this)},this.return=function(from,to){if(this.applyRules(),!this.whereExecuted&&!this.groupbyExecuted){for(var found=[],i=0;i<this.json.length;i++){for(var model=this.json[i],keys=Object.keys(model),returnModel=new Dictionary,j=0;j<keys.length;j++){var key=keys[j];this.columns.keyExists(key)&&(returnModel.setKey(key),returnModel.setValue(key,model[key]))}found.push(returnModel.get())}this.whereExecuted=!1,this.json=found}return void 0===from?(from=0,to=this.json.length):void 0===to&&(to=this.json.length),from>0&&(to+=from-=1),this.json.slice(from,to)},this.groupby=function(keys,options,child,items){if(this.applyRules(),void 0===options&&(options={}),void 0!==child||this.groupbyExecuted||this.whereExecuted||this.return(),-1==keys.indexOf(",")){if(void 0!==child)return this.groupByProcess(keys,items);var returnedModel=this.groupByProcess(keys,this.json);this.json=returnedModel,this.groupbyExecuted=!0}else{keys=keys.split(",").map(function(item){return item.trim()});var dataList=[];dataList=void 0===child?this.json:items;var key=keys[0],keyTotal=keys.length;keys.shift();var newKeys=keys.join(","),parents=this.groupByProcess(key,dataList);if(keyTotal>1)for(var i=0;i<parents.length;i++){var parent=parents[i];parent.data=this.groupby(newKeys,options,!0,parent.data)}if(void 0!==child)return parents;this.json=parents,this.groupbyExecuted=!0}return this},this.groupByProcess=function(key,items){var keys=[];key=(keys=key.split(",").map(function(item){return item.trim()}))[0],keys.shift();keys.join(",");for(var xs=items,dic=new Dictionary,i=0;i<xs.length;i++){var rv=xs[i],keyName="key"+rv[key].replace(/ /g,"").replace(/[^\w\s]/gi,"");dic.keyExists(keyName)?dic.get()[keyName].name.trim()==rv[key].trim()&&dic.get()[keyName].data.push(rv):(dic.setKeyWithValue(keyName,{name:rv[key],data:[]}),dic.get()[keyName].data.push(rv))}var groups=Object.keys(dic.get()),groups_final=[];for(i=0;i<groups.length;i++){var group=groups[i];groups_final.push(dic.get()[group])}return groups_final},this.orderby=function(columns,order){if(this.applyRules(),this.groupbyExecuted)throw new Error("orderby must be executed before groupby");var dic=QueryCreateDictionary(columns),keys=dic.keys(),objs=[],reverse=!1,orders=[];void 0!==order&&(-1==order.indexOf(",")?"desc"==order.trim().toLowerCase()&&(reverse=!0):orders=order.split(",").map(function(item){return"desc"==item.trim().toLowerCase()}));for(var i=0;i<keys.length;i++){var key=keys[i];orders.length>0?objs.push("{ name: '"+key+"', reverse: "+orders[i]+" }"):objs.push("{ name: '"+key+"', reverse: "+reverse+" }")}var executionObjects=objs.join(","),func="QueryPredicate("+executionObjects+")";return this.json=this.json.sort(eval(func)),this}}function QueryPredicate(){for(var field,name,cmp,fields=[],n_fields=arguments.length,default_cmp=function(a,b){return a===b?0:a<b?-1:1},getCmpFunc=function(primer,reverse){var dfc=default_cmp,cmp=default_cmp;return primer&&(cmp=function(a,b){return dfc(primer(a),primer(b))}),reverse?function(a,b){return-1*cmp(a,b)}:cmp},i=0;i<n_fields;i++)"string"==typeof(field=arguments[i])?(name=field,cmp=default_cmp):(name=field.name,cmp=getCmpFunc(field.primer,field.reverse)),fields.push({name:name,cmp:cmp});return function(A,B){for(var name,result,i=0;i<n_fields&&(result=0,name=(field=fields[i]).name,0===(result=field.cmp(A[name],B[name])));i++);return result}}function isJson(str){return"object"==typeof str}function QueryCreateDictionary(keys){var columns=[];-1!=keys.indexOf(",")?columns=keys.split(","):columns.push(keys);for(var dic=new Dictionary,i=0;i<columns.length;i++)"map"!==columns[i]&&"base"!==columns[i]&&"join"!==columns[i]&&dic.setKey(columns[i].trim());return dic}function TemplateB24Handler(){this.name="b24",this.processed=!1,this.events={},this.routeSetting={el:"#container",elModal:"#plugdo-modal-content",classSelected:"menu-active",notFoundMessage:""},this.logo={text:"Logo",slogan:"24/7",link:"#"},this.demo=!1,this.defaultPage=void 0,this.notFoundMessage='<div class="row" id="bt24-notfound">\n        <div class="col-md-12">\n            <div class="error-template">\n                <h1 class="text-dark">Oops!</h1>\n                <h2 class="text-info">404 Not Found</h2>\n                <div class="error-details">\n                    Sorry, an error has occured, Requested page not found!\n                </div>\n                <div class="error-actions">\n                    <a href="#" class="btn btn-dark btn-lg">\n                        <span class="glyphicon glyphicon-home"></span> Take Me Home\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>',this.searchSetting={placeholder:"",text:"Search",id:"b24t-search-btn"},this.timeSetting={addSeconds:!1,format:12,time:"",zone:""},this.helpSetting={name:"home/help",page:"/pages/help.html",icon:"fa-question-circle"},this.userSetting={active:!1,link:"#login",logoutText:"Login",token:"",name:"",menu:[]},this.layoutSetting={showHeader:!0,showMenu:!0,showNavigation:!0,colorHeaderBg:"#F8F9FA",colorSlogan:"#2FC6F7",colorLogo:"#17a2b8",colorNavBg:"#17a2b8",colorNavText:"#f8f9fa",colorMenuGroupBg:"#717A84",colorMenuGroupText:"#f8f9fa",colorMenuItemText:"#2D2D2D",colorMenuItemOverBg:"#717A84",colorMenuItemOverText:"#f8f9fa",colorUserText:"#343A40",colorUserMenuBg:"#F8F9FA",colorUserMenuText:"#212529",colorUserMenuDivider:"#e9ecef",colorTime:"#343A40",colorSearchText:"#17a2b8",colorSearchOverText:"#f8f9fa",colorHelpText:"#343A40"},this.setColorOptions=function(setting){this.layoutSetting=Object.assign(this.layoutSetting,setting)},this.setUserSetting=function(setting){this.userSetting=Object.assign({},this.userSetting,setting)},this.setLayoutSetting=function(setting){this.layoutSetting=Object.assign(this.layoutSetting,setting)},this.setSearchSetting=function(setting){this.searchSetting=Object.assign(this.searchSetting,setting)},this.setTimeSetting=function(setting){this.timeSetting=Object.assign(this.timeSetting,setting)},this.setHelpSetting=function(setting){this.helpSetting=Object.assign(this.helpSetting,setting)},this.setNotFoundMessage=function(html){this.notFoundMessage=html},this.setDefaultPage=function(defaultPage){void 0!==defaultPage.path&&(defaultPage.page=defaultPage.path),this.defaultPage=defaultPage},this.initialize=function(demo){this.demo=void 0!==demo&&demo,void 0===this.defaultPage||this.demo||(this.routeSetting.defaultPage=this.defaultPage),this.routeSetting.notFoundMessage=this.notFoundMessage,plugdo.route.load(this.routeSetting),this.loadHtml(),this.loadLayout(),this.loadWindows(),this.loadLogo(),this.loadNavigation(),this.loadMenu(),this.loadSearch(),this.loadClock(),this.loadUser(),this.loadHelp(),plugdo.view.load(),this.processed=!0,this.layoutSetting.showNavigation||this.hideNavigation()},this.hideNavigation=function(){this.layoutSetting.showNavigation=!1,$eui("#b24t-nav").selector().element.style.display="none"},this.hideMenu=function(){$eui("#eui .b24t-menu").selector().element.style.display="none";var contentElement=$eui("#eui .b24t-content").selector().element;contentElement.classList.remove("col-lg-10"),contentElement.classList.add("col-12")},this.hideHeader=function(){$eui("#eui .header").selector().element.style.display="none"},this.loadLayout=function(){this.demo||(this.layoutSetting.showHeader||this.hideHeader(),this.layoutSetting.showMenu||this.hideMenu(),this.applyColors())},this.applyColors=function(){var bodyElement=query("body");bodyElement.style.setProperty("--header-bg",this.layoutSetting.colorHeaderBg),bodyElement.style.setProperty("--slogan",this.layoutSetting.colorSlogan),bodyElement.style.setProperty("--logo",this.layoutSetting.colorLogo),bodyElement.style.setProperty("--nav-bg",this.layoutSetting.colorNavBg),bodyElement.style.setProperty("--nav-text",this.layoutSetting.colorNavText),bodyElement.style.setProperty("--menu-group-bg",this.layoutSetting.colorMenuGroupBg),bodyElement.style.setProperty("--menu-group-text",this.layoutSetting.colorMenuGroupText),bodyElement.style.setProperty("--menu-item-text",this.layoutSetting.colorMenuItemText),bodyElement.style.setProperty("--menu-item-over-bg",this.layoutSetting.colorMenuItemOverBg),bodyElement.style.setProperty("--menu-item-over-text",this.layoutSetting.colorMenuItemOverText),bodyElement.style.setProperty("--user-text",this.layoutSetting.colorUserText),bodyElement.style.setProperty("--user-menu-bg",this.layoutSetting.colorUserMenuBg),bodyElement.style.setProperty("--user-menu-text",this.layoutSetting.colorUserMenuText),bodyElement.style.setProperty("--user-menu-divider",this.layoutSetting.colorUserMenuDivider),bodyElement.style.setProperty("--time",this.layoutSetting.colorTime),bodyElement.style.setProperty("--search-text",this.layoutSetting.colorSearchText),bodyElement.style.setProperty("--search-over-text",this.layoutSetting.colorSearchOverText),bodyElement.style.setProperty("--help-text",this.layoutSetting.colorHelpText)},this.showHeader=function(){$eui("#eui .header").selector().element.style.display="flex",this.layoutSetting.showHeader=!0},this.showNavigation=function(){$eui("#b24t-nav").selector().element.style.display="flex",this.layoutSetting.showNavigation=!0},this.showMenu=function(){$eui("#eui .b24t-menu").selector().element.style.display="flex";var contentElement=$eui("#eui .b24t-content").selector().element;contentElement.classList.remove("col-12"),contentElement.classList.add("col-lg-10"),this.layoutSetting.showMenu=!0},this.loadWindows=function(){for(var keys=plugdo.global.windows.keys(),data=plugdo.global.windows.get(),i=0;i<keys.length;i++){var key=keys[i];plugdo.route.register({name:data[key].name,page:data[key].path,postLoad:data[key].execute})}},this.loadLogo=function(){this.demo||(this.processed?plugdo.view.setData("b24t-logo",this.logo):plugdo.view.setInitialData("plugdo-logo","b24t-logo",this.logo))},this.loadNavigation=function(){if(!this.demo){var model={class:"navbar-nav",items:[]};if(plugdo.global.navigation.length>0){for(var i=0;i<plugdo.global.navigation.length;i++){var menu=plugdo.global.navigation[i];model.items.push({name:menu.title,link:"#"+menu.target})}this.processed?plugdo.view.setData("b24t-nav",model):plugdo.view.setInitialData("plugdo-navigation","b24t-nav",model)}else this.processed?plugdo.view.setData("b24t-nav",model):plugdo.view.setInitialData("plugdo-navigation","b24t-nav",model)}},this.loadMenu=function(){var model={class:"menu",items:[]};if(!this.demo)if(plugdo.global.menu.length>0){for(var i=0;i<plugdo.global.menu.length;i++){var menu=plugdo.global.menu[i];"group"==menu.type?model.items.push({name:menu.title,"menu-type":"menu-group",link:menu.target,total:""}):"item"==menu.type?model.items.push({name:menu.title,"menu-type":"menu-item",link:menu.target,total:""}):model.items.push({name:"","menu-type":"menu-divisor",link:"",total:""})}this.processed?plugdo.view.setData("b24t-menu",model):plugdo.view.setInitialData("plugdo-menu","b24t-menu",model)}else this.processed?plugdo.view.setData("b24t-menu",model):plugdo.view.setInitialData("plugdo-menu","b24t-menu",model)},this.loadSearch=function(){this.demo||plugdo.view.setInitialData("plugdo-search","b24t-search",this.searchSetting)},this.loadClock=function(){this.demo||plugdo.view.setInitialData("plugdo-time","b24t-time",this.timeSetting)},this.loadUser=function(){this.demo||(this.processed?plugdo.view.setData("b24t-user",this.userSetting):plugdo.view.setInitialData("plugdo-user","b24t-user",this.userSetting))},this.changeUser=function(setting){this.demo||(this.setUserSetting(setting),this.loadUser())},this.getUser=function(){var userData=Object.assign({},this.userSetting);return delete userData.menu,delete userData.link,delete userData.logoutText,userData},this.loadHelp=function(){this.demo||plugdo.view.setInitialData("plugdo-help","b24t-help",this.helpSetting)},this.loadHtml=function(){$eui("#eui").selector().element.innerHTML=plugdo.htmlB24},this.setLogo=function(logo){this.logo=Object.assign(this.logo,logo)}}function b24tModelHelpHandler(){this.init=function(){$(document).ready(function(){$("#plugdo-modal-help-button-close").click(function(){$("#plugdo-modal-help").hide(),$("#plugdo-modal-help-content").empty();var pageName=window.location.hash.replace("#","");-1!=pageName.indexOf("/")&&(pageName=pageName.split("/")[0],window.location.hash="#"+pageName)})})}}function b24tModelHandler(){this.init=function(){$(document).ready(function(){$("#plugdo-modal-button-close").click(function(){$("#plugdo-modal-component").hide(),$("#plugdo-modal-content").empty();var pageName=window.location.hash.replace("#","");-1!=pageName.indexOf("/")&&(pageName=pageName.split("/")[0],window.location.hash="#"+pageName)})})}}function b24tHelpHandler(){this.init=function(){setTimeout(this.connect,100),window.addEventListener("hashchange",function(){var pageName=window.location.hash.replace("#","");if(""==pageName&&(pageName=void 0!==routing.config.defaultPage?routing.config.defaultPage.name:"home"),-1==pageName.indexOf("/")){var model=plugdo.view.getData("b24t-help"),helpStr=model.name.split("/")[1];model.name=pageName+"/"+helpStr,plugdo.view.setData("b24t-help",model)}},!1)},this.connect=function(){var model=plugdo.view.getData("b24t-help");plugdo.route.register({name:model.name,page:model.page,modal:"#plugdo-modal-help-content",postLoad:function(){$("#plugdo-modal-help").show()}})}}function b24tTimeHandler(){var self=this;this.init=function(){$(document).ready(function(){self.time_timer(),setInterval(self.time_timer,1e3)})},this.addZero=function(i){return i<10&&(i="0"+i),i},this.time_timer=function(){var b24tTimeModel=plugdo.view.getData("b24t-time"),currentTimeText=b24tTimeModel.time+"";b24tTimeModel.time="",b24tTimeModel.zone="";var d=new Date,h=self.addZero(d.getHours()),m=self.addZero(d.getMinutes()),s=self.addZero(d.getSeconds());if(12==b24tTimeModel.format)switch(h){case 13:h=1;break;case 14:h=2;break;case 15:h=3;break;case 16:h=4;break;case 17:h=5;break;case 18:h=6;break;case 19:h=7;break;case 20:h=8;break;case 21:h=9;break;case 22:h=10;break;case 23:h=11}var hourFormatted=h+":"+m+":"+s;if(b24tTimeModel.addSeconds||(hourFormatted=h+":"+m),12==b24tTimeModel.format){var zone="AM";self.addZero(d.getHours())>13&&(zone="PM"),b24tTimeModel.zone=zone}b24tTimeModel.time=hourFormatted,currentTimeText!=hourFormatted&&plugdo.view.setData("b24t-time",b24tTimeModel)}}function TemplateIDEHandler(){this.name="ide",this.colorOptions={bgNight:"#252525",bgDay:"#303130",bgNavbarBorder:"#141414",bgNavbarOver:"#353535",bgMenuTitle:"#5E6D06",bgTabOver:"#202020",bgSplitter:"#E25410",fontLogo:"#FFF",font:"#D7D7D7",fontDay:"#FFFFFF",fontOver:"#FFF",fontInactive:"#989898",fontMenuGroupRight:"#C6ECBC",fontMenuGroupLeft:"#D7D7D7",iconOver:"#C9E84D",fontSizeNavbar:"0.8em",fontSizeMenu:"14px",fontSizeMenuGroup:"13px",fontSizeMenuItem:"12px",fontSizeTab:"12px",fontSizeTabSelected:"14px",navigationHeight:"30px",menuWidth:"230px"},this.templateSettings={splitLeft:!0,splitRight:!0,showNavbar:!0,showMenuLeft:!0,showMenuRight:!0,showMenuContentLeft:!0,showMenuContentRight:!0,tabContentMarging:!0,showTab:!0},this.lazy=!1,this.windowBlocked=!1,this.initialize=function(demo){this.loadHtml(),demo||(this.applyTemplate(),$eui("#logo").selector().element.innerText=plugdo.global.title,this.createNavigation(),this.createMenu(),this.loadWindows(),plugdo.template.current.applySettings())},this.loadHtml=function(){$eui("#eui").selector().element.innerHTML=plugdo.htmlIDE},this.createWindow=function(options,execute,finalize){var newWindow=plugdo.window(options,execute,finalize);this.loadWindow(newWindow),this.openWindow(newWindow.key)},this.loadWindows=function(){var container=$eui("#frame-window-container").selector().element,keys=plugdo.global.windows.keys();container.innerHTML="";for(var containerHtmlArray=[],defaultOpenedPath="{{path}}",defaultOpenedWindow={exists:!1},i=0;i<keys.length;i++){var key=keys[i],windowObj=plugdo.global.windows.get()[key],frameNameID=plugdo.global.getKey(windowObj.name),htmlTemplate='<iframe style="display:none" id="window{{name}}" width="100%" frameborder="0" src="{{path}}"></iframe>'.replace("{{name}}",frameNameID),currentHash=document.location.hash.replace("#","").split("?")[0];""!=currentHash&&(windowObj.open=!1,windowObj.hash==currentHash&&(windowObj.open=!0)),this.lazy||(htmlTemplate=htmlTemplate.replace("{{path}}",windowObj.path)),void 0!==windowObj.open&&1==windowObj.open&&(containerHtmlArray.forEach(function(item,index){containerHtmlArray[index]=item.replace("display:block","display:none")}),htmlTemplate=htmlTemplate.replace("display:none","display:block"),this.openTab(key),defaultOpenedPath=windowObj.path,defaultOpenedWindow=windowObj),containerHtmlArray.push(htmlTemplate)}containerHtmlArray.forEach(function(item,index){-1!=item.indexOf("display:block")?(containerHtmlArray[index]=item.replace("{{path}}",defaultOpenedPath),defaultOpenedWindow.execute(defaultOpenedWindow)):containerHtmlArray[index]=item.replace("{{path}}","about:blank")}),container.innerHTML=containerHtmlArray.join("")},this.loadWindow=function(windowObj){var container=$eui("#frame-window-container").selector().element,templateIframe=document.createElement("iframe");templateIframe.style.display="none",templateIframe.style.width="100%",templateIframe.frameBorder=0,windowObj.key=plugdo.global.getKey(windowObj.name);var templateIframeID="window"+windowObj.key,templateIframeSrc=windowObj.path;templateIframe.setAttribute("id",templateIframeID),templateIframe.src=templateIframeSrc;var selectedID=$(".tab-item-selected");selectedID.length>0&&(selectedID=selectedID.attr("id").replace("tabWindow",""),$eui("#window"+selectedID).selector().element.style.display="none"),this.openTab(windowObj.key),container.appendChild(templateIframe)},this.reloadWindow=function(name){"key"==name.substring(0,3)&&-1==name.indexOf(" ")||(name=plugdo.global.getKey(name));var iframeWindow=$eui("#window"+name).selector().element;try{iframeWindow.contentWindow.location.reload(!0)}catch(err){var src=iframeWindow.src;iframeWindow.src=src}},this.openWindow=function(name,loaded){1==this.windowBlocked&&this.closeWindows(),"key"==name.substring(0,3)&&-1==name.indexOf(" ")||(name=plugdo.global.getKey(name));var selectedID=$(".tab-item-selected");if(selectedID.length>0&&(selectedID=selectedID.attr("id").replace("tabWindow",""),$eui("#window"+selectedID).selector().element.style.display="none"),this.lazy){var iframeWindow=$eui("#window"+name).selector().element;if("about:blank"==iframeWindow.src){var windowObject=plugdo.global.getWindowByKey(name);iframeWindow.src=windowObject.path}iframeWindow.style.display="block"}else $eui("#window"+name).selector().element.style.display="block";var openedWindowObj=plugdo.global.getWindowByKey(name);void 0===loaded&&(this.openTab(name),void 0!==openedWindowObj.execute&&"function"==typeof openedWindowObj.execute&&openedWindowObj.execute(openedWindowObj));openedWindowObj=plugdo.global.getWindowByKey(name);document.location.hash=openedWindowObj.hash},this.closeWindow=function(name,callback){void 0===callback?this.closeTab(name):this.closeTab(name,callback)},this.closeWindows=function(callback){var tabWindows=$('[id*="tabWindow"]'),total=tabWindows.length,counter=1;for(tabWindows.each(function(){var idName=$(this).attr("id").replace("tabWindow","");plugdo.template.current.closeWindow(idName,function(key){counter++})});counter<total;);"function"==typeof callback&&callback(total)},this.changeTab=function(name){var selectedID=$(".tab-item-selected").attr("id").replace("tabWindow","");name.trim()!=selectedID&&(this.openWindow(name,!1),$(".tab-item-selected").removeClass("tab-item-selected"),$("#tabWindow"+name).addClass("tab-item-selected"),this.tabPosition("#tabWindow"+name))},this.tabPosition=function(key){var itemPosition=$(key).position().left-75;$(".panel-window-tab").scrollLeft();itemPosition<0&&(itemPosition=0),$(".panel-window-tab").animate({scrollLeft:itemPosition})},this.openTab=function(name){var frameNameID="key"==name.substring(0,3)?name:plugdo.global.getKey(name),currentItem=$("#tabWindow"+frameNameID);if("key"==name.substring(0,3))for(var keys=plugdo.global.windows.keys(),i=0;i<keys.length;i++){var currentKey=keys[i];if(name==plugdo.global.getKey(currentKey)){name=plugdo.global.windows.get()[currentKey].name;break}}if(0==currentItem.length){var templateSelected='<div id="tabWindow'+frameNameID+'" class="window-tab-item tab-item-selected">            <div class="tab-text"><a {{target}}>'+name+'</a></div>            <div class="tab-icon"><a {{close}}><i class="fas fa-times"></i></a>            </div>        </div>',targetAction="onclick=\"plugdo.template.current.changeTab('"+frameNameID+"')\"",closeAction="onclick=\"plugdo.template.current.closeTab('"+frameNameID+"')\"";templateSelected=(templateSelected=templateSelected.replace("{{target}}",targetAction)).replace("{{close}}",closeAction),$(".tab-item-selected").removeClass("tab-item-selected");var tabContainer=$eui("#window-tab").selector().element;tabContainer.innerHTML=tabContainer.innerHTML+templateSelected,this.tabPosition("#tabWindow"+frameNameID)}else this.changeTab(frameNameID)},this.closeTab=function(name,callback){if($("#tabWindow"+name).hasClass("tab-item-selected")){document.location.hash="";var prevElement=$("#tabWindow"+name).prev(),nextElement=$("#tabWindow"+name).next();if($("#tabWindow"+name).remove(),prevElement.length>0?prevElement.addClass("tab-item-selected"):nextElement.length>0&&nextElement.addClass("tab-item-selected"),$(".tab-item-selected").length>0){var selectedID=$(".tab-item-selected").attr("id").replace("tabWindow","");$eui("#window"+selectedID).selector().element.style.display="block";var openedWindowObj=plugdo.global.getWindowByKey(selectedID);document.location.hash=openedWindowObj.hash}}else $("#tabWindow"+name).remove();var iframeWindow=$eui("#window"+name).selector().element;(iframeWindow.style.display="none",this.lazy&&(iframeWindow.src="about:blank"),void 0!==callback)?"function"==typeof callback&&callback(name):"function"==typeof(openedWindowObj=plugdo.global.getWindowByKey(name)).closed&&openedWindowObj.closed(openedWindowObj)},this.setLogo=function(logo){plugdo.global.title=logo},this.applySettings=function(settings){void 0!==settings&&(this.templateSettings=Object.assign(this.templateSettings,settings)),this.templateSettings.splitLeft?($(".handle-left").drags(),$(".handle-left").show()):$(".handle-left").hide(),this.templateSettings.splitRight?($(".handle-right").drags(),$(".handle-right").show()):$(".handle-right").hide(),this.templateSettings.showNavbar?($("#navigation").show(),$eui("#eui #content").selector().element.style.margin="-30px 0 0",$("#eui #content").removeClass("default-template-full"),$("#eui #content").addClass("default-template")):($("#navigation").hide(),$eui("#eui #content").selector().element.style.margin="0 0 0",$("#eui #content").removeClass("default-template"),$("#eui #content").addClass("default-template-full")),this.templateSettings.showMenuLeft?($("#containerleft").show(),$("#containerleftmenu").show()):($("#containerleft").hide(),$("#containerleftmenu").hide()),this.templateSettings.showMenuRight?($("#containerright").show(),$("#containerrightmenu").show()):($("#containerright").hide(),$("#containerrightmenu").hide()),this.templateSettings.showMenuContentLeft||$("#containerleftmenu").hide(),this.templateSettings.showMenuContentRight||$("#containerrightmenu").hide(),this.templateSettings.tabContentMarging||($eui("#frame-window-container").selector().element.style.margin="0 0 0"),this.templateSettings.showTab?$eui(".panel-window-tab").selector().element.style.display="block":$eui(".panel-window-tab").selector().element.style.display="none"},this.setColorOptions=function(options){this.colorOptions=Object.assign(this.colorOptions,options)},this.applyTemplate=function(){var style=window.document.querySelector("body").style;style.setProperty("--global-bg-color-1",this.colorOptions.bgNight),style.setProperty("--global-bg-color-2",this.colorOptions.bgDay),style.setProperty("--global-bg-color-3",this.colorOptions.bgNavbarBorder),style.setProperty("--global-bg-color-4",this.colorOptions.bgNavbarOver),style.setProperty("--global-bg-color-5",this.colorOptions.bgMenuTitle),style.setProperty("--global-bg-color-6",this.colorOptions.bgTabOver),style.setProperty("--global-bg-color-7",this.colorOptions.bgSplitter),style.setProperty("--global-font-color-1",this.colorOptions.font),style.setProperty("--global-font-color-2",this.colorOptions.fontDay),style.setProperty("--global-font-color-3",this.colorOptions.fontInactive),style.setProperty("--global-font-color-4",this.colorOptions.fontMenuGroupRight),style.setProperty("--global-font-color-5",this.colorOptions.iconOver),style.setProperty("--global-font-color-6",this.colorOptions.fontMenuGroupLeft),style.setProperty("--global-font-color-7",this.colorOptions.fontLogo),style.setProperty("--global-font-color-8",this.colorOptions.fontOver),style.setProperty("--global-font-navbar",this.colorOptions.fontSizeNavbar),style.setProperty("--global-font-menuside",this.colorOptions.fontSizeMenu),style.setProperty("--global-font-menugroup",this.colorOptions.fontSizeMenuGroup),style.setProperty("--global-font-menuitem",this.colorOptions.fontSizeMenuItem),style.setProperty("--global-font-tab",this.colorOptions.fontSizeTab),style.setProperty("--global-font-tab-selected",this.colorOptions.fontSizeTabSelected),style.setProperty("--global-header-height",this.colorOptions.navigationHeight),style.setProperty("--global-header-height-negative","-"+this.colorOptions.navigationHeight),style.setProperty("--global-menu-width",this.colorOptions.menuWidth)},this.setNavigation=function(navItems){plugdo.global.navigation=navItems},this.createNavigation=function(){for(var navLink="<li {{has-menu}}><a {{target}}>{{title}}</a>{{menu}}</li>",items=plugdo.global.navigation,navBarHtml=[],i=0;i<items.length;i++){var navbar=items[i],htmlReady="";if(void 0===navbar.target)throw new Error("The target is not defined");var hasLink=""!=navbar.target,hasFunction=void 0!==navbar.execute&&"function"==typeof navbar.execute,hasMenus=void 0!==navbar.menu&&navbar.menu.length>0;if(hasLink)htmlReady=navLink.replace("{{title}}",navbar.title),clickAction=(clickAction="onclick=\"plugdo.template.current.openWindow('{{target}}')\"").replace("{{target}}",navbar.target.trim()),htmlReady=htmlReady.replace("{{target}}",clickAction);else if(hasFunction){htmlReady=navLink.replace("{{title}}",navbar.title);var key=plugdo.global.getKey("navbar"+navbar.title+i);plugdo.global.executions.setKeyWithValue(key,{execute:navbar.execute,data:navbar}),clickAction=(clickAction="onclick=\"plugdo.global.execute('{{key}}')\"").replace("{{key}}",key),htmlReady=htmlReady.replace("{{target}}",clickAction)}else htmlReady="<li {{has-menu}}><a>{{title}}</a>{{menu}}</li>".replace("{{title}}",navbar.title);if(hasMenus){htmlReady=htmlReady.replace("{{has-menu}}",' class="sub-menu"');for(var menus=navbar.menu,menuHtml=[],j=0;j<menus.length;j++){var menu=menus[j],menuHtmlReady="";if(hasLink=void 0!==menu.target&&""!=menu.target,hasFunction=void 0!==menu.execute&&"function"==typeof menu.execute,hasLink)menuHtmlReady="<a {{target}}>{{title}}</a>".replace("{{title}}",menu.title),clickAction=(clickAction="onclick=\"plugdo.template.current.openWindow('{{target}}')\"").replace("{{target}}",menu.target.trim()),menuHtmlReady=menuHtmlReady.replace("{{target}}",clickAction);else if(hasFunction){menuHtmlReady="<a {{target}}>{{title}}</a>".replace("{{title}}",menu.title);var clickAction;key=plugdo.global.getKey("navbarMenu"+menu.title+i);plugdo.global.executions.setKeyWithValue(key,{execute:menu.execute,data:menu}),clickAction=(clickAction="onclick=\"plugdo.global.execute('{{key}}')\"").replace("{{key}}",key),menuHtmlReady=menuHtmlReady.replace("{{target}}",clickAction)}else menuHtmlReady="<a>{{title}}</a>".replace("{{title}}",menu.title);menuHtml.push(menuHtmlReady)}menuHtml='<div class="dropdown-content">{{items}}</div>'.replace("{{items}}",menuHtml.join("")),htmlReady=htmlReady.replace("{{menu}}",menuHtml)}else htmlReady=(htmlReady=htmlReady.replace("{{has-menu}}","")).replace("{{menu}}","");navBarHtml.push(htmlReady)}navBarHtml=navBarHtml.join("");for(var element=$eui("#menu ul").selector().element;element.firstChild;)element.removeChild(element.firstChild);element.innerHTML=navBarHtml},this.createMenu=function(){for(var menus=plugdo.global.menu,menuHtmlItems=[],menuRightHtmlItems=[],elementLeftContent=$eui("#containerleftmenucontent").selector().element;elementLeftContent.firstChild;)elementLeftContent.removeChild(elementLeftContent.firstChild);for(var elementRightContent=$eui("#containerrightmenucontent").selector().element;elementRightContent.firstChild;)elementRightContent.removeChild(elementRightContent.firstChild);for(var i=0;i<menus.length;i++){var menu=menus[i],htmlLeftText="",htmlRightText="",uniqueKey=plugdo.global.getKey(menu.title);if(void 0===menu.isLeft&&(menu.isLeft=!0),menu.isLeft)if(htmlLeftText=menu.selected?'<div id="parent{{uniqueKey}}" class="panel-menu-item panel-menu-item-selected"><div><a onclick="plugdo.menu(\'{{paramuniqueKey}}\', true)">{{title}}</a></div></div>'.replace("{{title}}",menu.title).replace("{{uniqueKey}}",uniqueKey).replace("{{paramuniqueKey}}",uniqueKey):'<div id="parent{{uniqueKey}}" class="panel-menu-item"><div><a onclick="plugdo.menu(\'{{paramuniqueKey}}\', true)">{{title}}</a></div></div>'.replace("{{title}}",menu.title).replace("{{uniqueKey}}",uniqueKey).replace("{{paramuniqueKey}}",uniqueKey),void 0!==menu.content){var leftMenuContent="";leftMenuContent=menu.selected?(leftMenuContent='<div id="{{uniqueKey}}">{{content}}</div>').replace("{{uniqueKey}}",uniqueKey):(leftMenuContent='<div id="{{uniqueKey}}" style="display: none">{{content}}</div>').replace("{{uniqueKey}}",uniqueKey);var tasks=menu.tasks;""!=menu.content.trim()&&plugdo.http({url:menu.content,async:!1,success:function(responseTxt){if(leftMenuContent=leftMenuContent.replace("{{content}}",responseTxt),elementLeftContent.innerHTML=elementLeftContent.innerHTML+leftMenuContent,void 0!==tasks)if(Array.isArray(tasks))for(var t=0;t<tasks.length;t++){(0,tasks[t])()}else tasks()}}),plugdo.global.allLeftMenus.setKeyWithValue(uniqueKey,"#"+uniqueKey),menu.selected&&plugdo.global.activeMenuLeft.setKeyWithValue("LeftContent","#"+uniqueKey)}else if(void 0!==menu.menu){for(var menuChilds=menu.menu,menuChildHtml=[],groupItemKey="",groupItemShow=!0,j=0;j<menuChilds.length;j++){var menuChild=menuChilds[j],menuChildText="";if(menuChild.isGroup)menuChildText='<li><a class="menu-group" onclick="euiShowHide(\'{{groupItemKey}}\')">{{title}}</a></li>'.replace("{{title}}",menuChild.title),groupItemKey=plugdo.global.getKey(menuChild.title),menuChildText=menuChildText.replace("{{groupItemKey}}",groupItemKey),void 0!==menuChild.show&&"boolean"==typeof menuChild.show&&(groupItemShow=menuChild.show);else{menuChildText='<li class="menu-with-icon {{groupItemKey}}"><div class="menu-icon"><i class="fas fa-caret-right"></i></div><div><a {{target}}>{{title}}</a></div></li>'.replace("{{title}}",menuChild.title);var cssClassesByGroup=groupItemKey;if(0==groupItemShow&&(cssClassesByGroup=groupItemKey+" eui-hide"),menuChildText=menuChildText.replace("{{groupItemKey}}",cssClassesByGroup),""!=menuChild.target){var clickAction="onclick=\"plugdo.template.current.openWindow('{{target}}')\"",targetKey=plugdo.global.getKey(menuChild.target.trim());clickAction=clickAction.replace("{{target}}",targetKey),menuChildText=menuChildText.replace("{{target}}",clickAction)}else menuChildText=menuChildText.replace("{{target}}","")}""!=menuChildText&&menuChildHtml.push(menuChildText)}menuChildHtml=menuChildHtml.join("");var ulHtml='<ul id="{{uniqueKey}}" style="display: none">{{li}}</ul>';menu.selected&&(ulHtml='<ul id="{{uniqueKey}}">{{li}}</ul>'),ulHtml=ulHtml.replace("{{uniqueKey}}",uniqueKey),elementLeftContent.innerHTML=elementLeftContent.innerHTML+ulHtml.replace("{{li}}",menuChildHtml),plugdo.global.allLeftMenus.setKeyWithValue(uniqueKey,"#"+uniqueKey),menu.selected&&plugdo.global.activeMenuLeft.setKeyWithValue("LeftContent","#"+uniqueKey)}else elementLeftContent.innerHTML=elementLeftContent.innerHTML+'<ul id="'+uniqueKey+'" style="display: none"></ul>';else if(htmlRightText=menu.selected?'<div id="parent{{uniqueKey}}" class="panel-menu-item panel-menu-item-selected"><div class="reverse"><a onclick="plugdo.menu(\'{{paramuniqueKey}}\', false)">{{title}}</a></div></div>'.replace("{{title}}",menu.title).replace("{{uniqueKey}}",uniqueKey).replace("{{paramuniqueKey}}",uniqueKey):'<div id="parent{{uniqueKey}}" class="panel-menu-item"><div class="reverse"><a onclick="plugdo.menu(\'{{paramuniqueKey}}\', false)">{{title}}</a></div></div>'.replace("{{title}}",menu.title).replace("{{uniqueKey}}",uniqueKey).replace("{{paramuniqueKey}}",uniqueKey),void 0!==menu.content){var rightMenuContent;if(menu.selected)rightMenuContent=(rightMenuContent='<div id="rightMenuContent{{uniqueKey}}"></div>').replace("{{uniqueKey}}",uniqueKey),elementRightContent.innerHTML=elementRightContent.innerHTML+rightMenuContent;else rightMenuContent=(rightMenuContent='<div id="rightMenuContent{{uniqueKey}}" style="display: none"></div>').replace("{{uniqueKey}}",uniqueKey),elementRightContent.innerHTML=elementRightContent.innerHTML+rightMenuContent;""!=menu.content.trim()&&$("#rightMenuContent"+uniqueKey).load(menu.content,function(){if(void 0!==menu.tasks)if(Array.isArray(menu.tasks))for(var t=0;t<menu.tasks.length;t++){(0,menu.tasks[t])()}else menu.tasks()}),plugdo.global.allRightMenus.setKeyWithValue(uniqueKey,"#"+uniqueKey),menu.selected&&plugdo.global.activeMenuRight.setKeyWithValue("RightContent","#"+uniqueKey)}""!=htmlLeftText&&menuHtmlItems.push(htmlLeftText),""!=htmlRightText&&menuRightHtmlItems.push(htmlRightText)}for(var element=$eui("#containerleft").selector().element;element.firstChild;)element.removeChild(element.firstChild);for(menuHtmlItems=menuHtmlItems.join(""),element.innerHTML=menuHtmlItems,element=$eui("#containerright").selector().element;element.firstChild;)element.removeChild(element.firstChild);menuRightHtmlItems=menuRightHtmlItems.join(""),element.innerHTML=menuRightHtmlItems}}function TemplateHandler(){this.templates=new Dictionary,this.templates.setKeyWithValue("ide",new TemplateIDEHandler),this.templates.setKeyWithValue("b24",new TemplateB24Handler),this.currentName="ide",this.current=this.templates.get()[this.currentName],this.initialize=function(demo){this.current.initialize(demo)},this.register=function(name,obj){this.templates.keyExists(name)?this.templates.setValue(name,obj):this.templates.setKeyWithValue(name,obj)},this.set=function(name){if(!this.templates.keyExists(name)){var availables=this.templates.keys().join(", ");throw new Error(`Template ${name}: does not exists. Review what we have available: ${availables}`)}this.current=this.templates.get()[name],this.currentName=name},this.setLogo=function(logo){this.current.setLogo(logo)},this.setColorOptions=function(options){this.current.setColorOptions(options)},this.applySettings=function(settings){"ide"==this.current.name&&this.current.applySettings(settings)},this.createWindow=function(options,execute,finalize){"ide"==this.current.name&&this.current.createWindow(options,execute,finalize)},this.closeWindows=function(callback){"ide"==this.current.name&&this.current.closeWindows(callback)}}function PlugdoValidator(model){var self=this;self.options={model:model,required:[],requiredOne:{},minlength:[],maxlength:[],custom:[]},this.validate=function(options){void 0!==options&&Object.assign(self.options,options);var response={valid:!1,error:""},model=self.options.model,required=self.options.required,requiredOne=self.options.requiredOne,minlength=self.options.minlength,maxlength=self.options.maxlength,custom=self.options.custom;if(required.length>0)for(var i=0;i<required.length;i++){if(void 0===(value=model[(item=required[i]).name].value))return response.error=`${item.name} is required. (*undefined)`,response.element=item.item,response;if(""===value.trim())return response.error=`${item.name} is required. (*empty)`,response.element=item.item,response}var keys=Object.keys(requiredOne);if(keys.length>0)for(var k=0;k<keys.length;k++){var key=keys[k],totalSelected=(requiredOne[key].length,0);for(i=0;i<requiredOne[key].length;i++){if(void 0===(value=model[(item=requiredOne[key][i]).name].checked)){response.error=`${item.name} is not a radio button or checkbox. (*undefined)`;break}value&&totalSelected++}if(1!==totalSelected)return response.error=`group '${key}' requires one but it has ${totalSelected} selected.`,response}if(minlength.length>0)for(i=0;i<minlength.length;i++){if(void 0===(value=model[(item=minlength[i]).name].value)){response.error=`${item.name} is required. (*undefined)`,response.element=item.item;break}if(value.trim().length<item.length)return response.error=`${item.name} min-length of ${item.length} is invalid`,response.element=item.item,response}if(maxlength.length>0)for(i=0;i<maxlength.length;i++){if(void 0===(value=model[(item=maxlength[i]).name].value)){response.error=`${item.name} is required. (*undefined)`,response.element=item.item;break}if(value.trim().length>item.length)return response.error=`${item.name} max-length of ${item.length} is invalid`,response.element=item.item,response}if(custom.length>0)for(i=0;i<custom.length;i++){var item,value;if(void 0===(value=model[(item=custom[i]).name].value)){response.error=`${item.name} is required. (*undefined)`,response.element=item.item;break}if(!item.regex.test(value))return response.error=`${item.name} is not valid`,response.element=item.item,response}return response.valid=!0,response},self.validateName=function(name){if(!name)throw new Error("The name attribute is required")},this.bind=function(){["[eui-required]","[eui-required-one]","[eui-minlength]","[eui-maxlength]","[eui-custom]"].forEach(function(selector){document.querySelectorAll(selector).forEach(function(item){var itemName=item.getAttribute("name"),isForm=!1;switch(item.tagName){case"INPUT":case"TEXTAREA":case"SELECT":case"OPTION":isForm=!0;break;default:isForm=!1}if(isForm)switch(self.validateName(itemName),selector){case"[eui-required]":self.options.required.push({name:itemName,item:item});break;case"[eui-required-one]":var groupName=item.getAttribute("eui-requiredone-group");groupName||(groupName="default"),self.options.requiredOne.hasOwnProperty(groupName)||(self.options.requiredOne[groupName]=[]),self.options.requiredOne[groupName].push({name:itemName,item:item});break;case"[eui-minlength]":self.options.minlength.push({name:itemName,length:parseInt(item.getAttribute("eui-minlength")),item:item});break;case"[eui-maxlength]":self.options.maxlength.push({name:itemName,length:parseInt(item.getAttribute("eui-maxlength")),item:item});break;case"[eui-custom]":self.options.custom.push({name:itemName,regex:item.getAttribute("eui-custom"),item:item})}})})},this.bind()}window.plugdoReadyState="interactive",window.plugdoDependencies={},window.addScript=function(name,options){if(void 0===name)throw new Error("The name param is undefined");if(void 0===options)throw new Error("The options param is undefined");var option={url:"",dependency:"",core:!1,type:"script",require:"",loaded:!1};(option=Object.assign({},option,options)).loaded=!1,option.core=!1,option.type="script",Object.defineProperty(window.plugdoDependencies,name,{enumerable:!0,writable:!0,value:option})},window.load=function(callback,isDemo,loadInterval){if(void 0===loadInterval&&(loadInterval=0),window[EUI_KEY.READY_STATE]="complete","loading"===window.document.readyState){for(var keys=Object.keys(window[EUI_KEY.DEPENDENCY]),i=0;i<keys.length;i++){var module=window[EUI_KEY.DEPENDENCY][keys[i]],key=keys[i];if(0==module.core)if(""==module.dependency)plugdo.loadDependency(key);else if(window[EUI_KEY.DEPENDENCY].hasOwnProperty(module.dependency))var dependencyStateCheckInterval=setInterval(function(){window[EUI_KEY.DEPENDENCY][module.dependency].loaded&&(clearInterval(dependencyStateCheckInterval),plugdo.loadDependency(key))},10)}var demoObj=void 0!==isDemo&&1==isDemo;setTimeout(function(){"undefined"!=typeof template?template.initialize(demoObj):plugdo.template.initialize(demoObj),$eui("html").selector().element.style.display="block","function"==typeof callback&&callback()},loadInterval)}},window.euiShowHide=function(key){if(""!=key){var element=$("."+key);element.hasClass("eui-hide")?element.removeClass("eui-hide"):element.addClass("eui-hide")}},PlugdoBinderObject.prototype.toString=function(){return void 0!==this.value?this.value:void 0!==this.checked?this.checked:""},eui.binder=new PlugdoBinder,plugdo.view=new plugdoView,plugdo.jsonReader=new PlugdoJsonReader,plugdo.cookie=new PlugdoCookies,plugdo.http=function(options){return jQuery.ajax(options)},plugdo.request=new PlugdoHttp,plugdo.menu=function(uniqueKey,isLeft){if(isLeft){var idShow=plugdo.global.allLeftMenus.get()[uniqueKey],parentActive="#parent"+(idActiveHide=plugdo.global.activeMenuLeft.get().LeftContent).replace("#",""),parentShow="#parent"+uniqueKey;idActiveHide===idShow?$("#containerleftmenu").toggle():($("#containerleftmenu").show(),$eui(idActiveHide).selector().element.style.display="none",$eui(idShow).selector().element.style.display="block",$(parentActive).removeClass("panel-menu-item-selected"),$(parentShow).addClass("panel-menu-item-selected"),plugdo.global.activeMenuLeft.setValue("LeftContent","#"+uniqueKey))}else{idShow=plugdo.global.allRightMenus.get()[uniqueKey];var idActiveHide=plugdo.global.activeMenuRight.get().RightContent;$eui(idActiveHide).selector().element.style.display="none",$eui(idShow).selector().element.style.display="block";parentActive="#parent"+idActiveHide.replace("#",""),parentShow="#parent"+uniqueKey;$(parentActive).removeClass("panel-menu-item-selected"),$(parentShow).addClass("panel-menu-item-selected"),plugdo.global.activeMenuRight.setValue("RightContent","#"+uniqueKey)}},plugdo.mapper=new MapperHandler,plugdo.talk=new PlugdoBroadcast,plugdo.url=new PlugdoQueryString,plugdo.route=new PlugdoRoutingCreator,plugdo.select=function(query,options){return PlugdoQuerySelect(query,options)},plugdo.template=new TemplateHandler,plugdo.validator=function(model){return new PlugdoValidator(model)};